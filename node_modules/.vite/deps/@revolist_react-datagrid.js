import {
  TextEditor
} from "./chunk-TRQJQQLD.js";
import {
  isAll,
  isClear,
  isCopy,
  isCtrlKey,
  isCtrlMetaKey,
  isCut,
  isEditInput,
  isEditorCtrConstructible,
  isEnterKeyValue,
  isMetaKey,
  isPaste,
  isTab,
  isTabKeyValue
} from "./chunk-3YTBF2NJ.js";
import {
  CellRenderer,
  GroupingRowRenderer,
  SortingSign,
  expandEvent,
  expandSvgIconVNode
} from "./chunk-EN4NUI5M.js";
import {
  require_client
} from "./chunk-6SR3XLWJ.js";
import {
  require_jsx_runtime
} from "./chunk-RJXL6ION.js";
import {
  require_react
} from "./chunk-4DNPHNOK.js";
import {
  AutoSizeColumnPlugin,
  BasePlugin,
  ColumnMovePlugin,
  DimensionStore,
  ExportCsv,
  ExportFilePlugin,
  FILTER_CONFIG_CHANGED_EVENT,
  FILTER_TRIMMED_TYPE,
  FILTE_PANEL,
  FilterPlugin,
  GroupingRowPlugin,
  SelectionStore,
  SortingPlugin,
  StretchColumn,
  defaultCellCompare,
  descCellCompare,
  doCollapse,
  doExpand,
  filterCoreFunctionsIndexedByType,
  filterNames,
  filterTypes,
  getComparer,
  getLeftRelative,
  getNextOrder,
  isStretchPlugin,
  sortIndexByItems
} from "./chunk-G76XAFV2.js";
import {
  ViewportStore,
  addMissingItems,
  calculateRowHeaderSize,
  getFirstItem,
  getItems,
  getLastItem,
  getUpdatedItemsByPosition,
  isActiveRange,
  isActiveRangeOutsideLastItem,
  recombineByOffset,
  setItemSizes,
  updateMissingAndRange
} from "./chunk-YXORL5PL.js";
import {
  dispatch,
  dispatchByEvent
} from "./chunk-QG7UZVRU.js";
import {
  GROUPING_ROW_TYPE,
  GROUP_COLUMN_PROP,
  GROUP_DEPTH,
  GROUP_EXPANDED,
  GROUP_EXPAND_BTN,
  GROUP_EXPAND_EVENT,
  GROUP_ORIGINAL_INDEX,
  PSEUDO_GROUP_COLUMN,
  PSEUDO_GROUP_ITEM,
  PSEUDO_GROUP_ITEM_ID,
  PSEUDO_GROUP_ITEM_VALUE,
  columnTypes,
  cropCellToMax,
  gatherGroup,
  gatherGrouping,
  getCellData,
  getCellDataParsed,
  getCellRaw,
  getColumnByProp,
  getColumnSizes,
  getColumnType,
  getColumns,
  getExpanded,
  getGroupingName,
  getParsedGroup,
  getRange,
  getSource,
  isColGrouping,
  isGrouping,
  isGroupingColumn,
  isRangeSingleCell,
  isRowType,
  isSameGroup,
  measureEqualDepth,
  nextCell,
  rowTypes
} from "./chunk-QZAIXLNJ.js";
import {
  CELL_CLASS,
  CELL_HANDLER_CLASS,
  DATA_COL,
  DATA_ROW,
  DISABLED_CLASS,
  DRAGGABLE_CLASS,
  DRAGG_TEXT,
  DRAG_ICON_CLASS,
  DataStore,
  EDIT_INPUT_WR,
  FOCUS_CLASS,
  GRID_INTERNALS,
  HEADER_ACTUAL_ROW_CLASS,
  HEADER_CLASS,
  HEADER_ROW_CLASS,
  HEADER_SORTABLE_CLASS,
  MIN_COL_SIZE,
  MOBILE_CLASS,
  RESIZE_INTERVAL,
  ROW_FOCUSED_CLASS,
  ROW_HEADER_TYPE,
  SELECTION_BORDER_CLASS,
  TMP_SELECTION_BG_CLASS,
  applyMixins,
  calculateDimensionData,
  codesLetter,
  findPositionInArray,
  gatherTrimmedItems,
  getItemByIndex,
  getItemByPosition,
  getPhysical,
  getScrollbarSize,
  getSourceItem,
  getSourceItemVirtualIndexByProp,
  getSourcePhysicalIndex,
  getVisibleSourceItem,
  keyValues,
  mergeSortedArray,
  proxyPlugin,
  pushSorted,
  range,
  scaleValue,
  setItems,
  setSourceByPhysicalIndex,
  setSourceByVirtualIndex,
  setStore,
  timeout,
  trimmedPlugin
} from "./chunk-52WLLNIP.js";
import {
  AND_OR_BUTTON,
  AndOrButton,
  FILTER_BUTTON_ACTIVE,
  FILTER_BUTTON_CLASS,
  FILTER_PROP,
  FilterButton,
  TRASH_BUTTON,
  TrashButton,
  isFilterBtn
} from "./chunk-BEN4J7WE.js";
import {
  bootstrapLazy,
  h,
  setNonce
} from "./chunk-CDBVSAJQ.js";
import {
  __toESM
} from "./chunk-6TIFU5QF.js";

// node_modules/@revolist/revogrid/dist/esm/app-globals-C3ZHKjnB.js
function appGlobalScript() {
}
var globalScripts = appGlobalScript;

// node_modules/@revolist/revogrid/dist/esm/loader.js
var defineCustomElements = async (win, options) => {
  if (typeof window === "undefined") return void 0;
  await globalScripts();
  return bootstrapLazy([["revo-grid", [[260, "revo-grid", { "rowHeaders": [4, "row-headers"], "frameSize": [2, "frame-size"], "rowSize": [2, "row-size"], "colSize": [2, "col-size"], "range": [4], "readonly": [4], "resize": [4], "canFocus": [4, "can-focus"], "useClipboard": [4, "use-clipboard"], "columns": [16], "source": [16], "pinnedTopSource": [16, "pinned-top-source"], "pinnedBottomSource": [16, "pinned-bottom-source"], "rowDefinitions": [16, "row-definitions"], "editors": [16], "applyOnClose": [4, "apply-on-close"], "plugins": [16], "columnTypes": [16, "column-types"], "theme": [1537], "rowClass": [513, "row-class"], "autoSizeColumn": [4, "auto-size-column"], "filter": [4], "sorting": [16], "focusTemplate": [16, "focus-template"], "canMoveColumns": [4, "can-move-columns"], "trimmedRows": [16, "trimmed-rows"], "exporting": [4], "grouping": [16], "stretch": [8], "additionalData": [16, "additional-data"], "disableVirtualX": [4, "disable-virtual-x"], "disableVirtualY": [4, "disable-virtual-y"], "hideAttribution": [4, "hide-attribution"], "jobsBeforeRender": [16, "jobs-before-render"], "registerVNode": [16, "register-v-node"], "accessible": [4], "rtl": [4], "canDrag": [4, "can-drag"], "refresh": [64], "setDataAt": [64], "scrollToRow": [64], "scrollToColumnIndex": [64], "scrollToColumnProp": [64], "updateColumns": [64], "addTrimmed": [64], "scrollToCoordinate": [64], "setCellEdit": [64], "setCellsFocus": [64], "getSource": [64], "getVisibleSource": [64], "getSourceStore": [64], "getColumnStore": [64], "updateColumnSorting": [64], "clearSorting": [64], "getColumns": [64], "clearFocus": [64], "getPlugins": [64], "getFocused": [64], "getContentSize": [64], "getSelectedRange": [64], "refreshExtraElements": [64], "getProviders": [64] }, [[5, "touchstart", "mousedownHandle"], [5, "mousedown", "mousedownHandle"], [5, "touchend", "mouseupHandle"], [5, "mouseup", "mouseupHandle"], [0, "rowdragstartinit", "onRowDragStarted"], [0, "rowdragendinit", "onRowDragEnd"], [0, "roworderchange", "onRowOrderChange"], [0, "rowdragmoveinit", "onRowDrag"], [0, "rowdragmousemove", "onRowMouseMove"], [0, "celleditapply", "onCellEdit"], [0, "rangeeditapply", "onRangeEdit"], [0, "selectionchangeinit", "onRangeChanged"], [0, "rowdropinit", "onRowDropped"], [0, "beforeheaderclick", "onHeaderClick"], [0, "beforecellfocusinit", "onCellFocus"]], { "columnTypes": ["columnTypesChanged"], "columns": ["columnChanged"], "disableVirtualX": ["disableVirtualXChanged"], "rowSize": ["rowSizeChanged"], "theme": ["themeChanged"], "source": ["dataSourceChanged"], "pinnedBottomSource": ["dataSourceChanged"], "pinnedTopSource": ["dataSourceChanged"], "disableVirtualY": ["disableVirtualYChanged"], "rowDefinitions": ["rowDefChanged"], "trimmedRows": ["trimmedRowsChanged"], "grouping": ["groupingChanged"], "stretch": ["applyStretch"], "filter": ["applyFilter"], "sorting": ["applySorting"], "rowHeaders": ["rowHeadersChange"], "registerVNode": ["registerOutsideVNodes"], "additionalData": ["additionalDataChanged"], "rtl": ["rtlChanged"], "plugins": ["pluginsChanged"] }]]], ["revogr-filter-panel", [[260, "revogr-filter-panel", { "filterNames": [16, "filter-names"], "filterEntities": [16, "filter-entities"], "filterCaptions": [16, "filter-captions"], "disableDynamicFiltering": [4, "disable-dynamic-filtering"], "closeOnOutsideClick": [4, "close-on-outside-click"], "isFilterIdSet": [32], "filterId": [32], "currentFilterId": [32], "currentFilterType": [32], "changes": [32], "filterItems": [32], "show": [64], "getChanges": [64] }, [[5, "mousedown", "onMouseDown"]]]]], ["revogr-clipboard_3", [[0, "revogr-clipboard", { "readonly": [4], "doCopy": [64] }, [[4, "paste", "onPaste"], [4, "copy", "copyStarted"], [4, "cut", "cutStarted"]]], [256, "revogr-edit", { "editCell": [16, "edit-cell"], "column": [16], "editor": [16], "saveOnClose": [4, "save-on-close"], "additionalData": [8, "additional-data"], "cancelChanges": [64], "beforeDisconnect": [64] }], [0, "revogr-order-editor", { "parent": [16], "dimensionRow": [16, "dimension-row"], "dimensionCol": [16, "dimension-col"], "dataStore": [16, "data-store"], "rowType": [1, "row-type"], "dragStart": [64], "endOrder": [64], "clearOrder": [64] }]]], ["revogr-data_4", [[260, "revogr-data", { "readonly": [4], "range": [4], "rowClass": [1, "row-class"], "additionalData": [8, "additional-data"], "rowSelectionStore": [16, "row-selection-store"], "viewportRow": [16, "viewport-row"], "viewportCol": [16, "viewport-col"], "dimensionRow": [16, "dimension-row"], "colData": [16, "col-data"], "dataStore": [16, "data-store"], "type": [513], "colType": [513, "col-type"], "jobsBeforeRender": [16, "jobs-before-render"], "providers": [32], "updateCell": [64] }, null, { "dataStore": ["onDataStoreChange"], "colData": ["onColDataChange"] }], [256, "revogr-header", { "viewportCol": [16, "viewport-col"], "dimensionCol": [16, "dimension-col"], "selectionStore": [16, "selection-store"], "groups": [16], "groupingDepth": [2, "grouping-depth"], "readonly": [4], "canResize": [4, "can-resize"], "resizeHandler": [16, "resize-handler"], "colData": [16, "col-data"], "columnFilter": [4, "column-filter"], "type": [1], "additionalData": [8, "additional-data"] }], [260, "revogr-viewport-scroll", { "rowHeader": [4, "row-header"], "contentWidth": [2, "content-width"], "contentHeight": [2, "content-height"], "colType": [1, "col-type"], "setScroll": [64], "changeScroll": [64], "applyScroll": [64] }, [[0, "mousewheel-vertical", "mousewheelVertical"], [0, "mousewheel-horizontal", "mousewheelHorizontal"], [0, "scroll-coordinate", "scrollApply"]]], [256, "vnode-html", { "redraw": [16] }]]], ["revogr-attribution_7", [[256, "revogr-row-headers", { "height": [2], "dataPorts": [16, "data-ports"], "headerProp": [16, "header-prop"], "rowClass": [1, "row-class"], "resize": [4], "rowHeaderColumn": [16, "row-header-column"], "additionalData": [8, "additional-data"], "jobsBeforeRender": [16, "jobs-before-render"] }], [260, "revogr-overlay-selection", { "readonly": [4], "range": [4], "canDrag": [4, "can-drag"], "useClipboard": [4, "use-clipboard"], "selectionStore": [16, "selection-store"], "dimensionRow": [16, "dimension-row"], "dimensionCol": [16, "dimension-col"], "dataStore": [16, "data-store"], "colData": [16, "col-data"], "lastCell": [16, "last-cell"], "editors": [16], "applyChangesOnClose": [4, "apply-changes-on-close"], "additionalData": [8, "additional-data"], "isMobileDevice": [4, "is-mobile-device"] }, [[5, "touchmove", "onMouseMove"], [5, "mousemove", "onMouseMove"], [5, "touchend", "onMouseUp"], [5, "mouseup", "onMouseUp"], [5, "mouseleave", "onMouseUp"], [0, "dragstartcell", "onCellDrag"], [4, "keyup", "onKeyUp"], [4, "keydown", "onKeyDown"]], { "selectionStore": ["selectionServiceSet"], "dimensionRow": ["createAutoFillService"], "dimensionCol": ["createAutoFillService"], "dataStore": ["columnServiceSet"], "colData": ["columnServiceSet"] }], [256, "revogr-attribution"], [260, "revogr-focus", { "colType": [1, "col-type"], "rowType": [1, "row-type"], "selectionStore": [16, "selection-store"], "dimensionRow": [16, "dimension-row"], "dimensionCol": [16, "dimension-col"], "dataStore": [16, "data-store"], "colData": [16, "col-data"], "focusTemplate": [16, "focus-template"] }], [256, "revogr-scroll-virtual", { "dimension": [1], "realSize": [2, "real-size"], "virtualSize": [2, "virtual-size"], "clientSize": [2, "client-size"], "setScroll": [64], "changeScroll": [64] }], [256, "revogr-temp-range", { "selectionStore": [16, "selection-store"], "dimensionRow": [16, "dimension-row"], "dimensionCol": [16, "dimension-col"] }], [256, "revogr-extra", { "nodes": [16], "update": [32], "refresh": [64] }]]]], options);
};

// node_modules/@revolist/revogrid/loader/index.js
(function() {
  if ("undefined" !== typeof window && void 0 !== window.Reflect && void 0 !== window.customElements) {
    var a = HTMLElement;
    window.HTMLElement = function() {
      return Reflect.construct(a, [], this.constructor);
    };
    HTMLElement.prototype = a.prototype;
    HTMLElement.prototype.constructor = HTMLElement;
    Object.setPrototypeOf(HTMLElement, a);
  }
})();

// node_modules/@revolist/revogrid/dist/esm/index.js
var REVOGRID_EVENTS = /* @__PURE__ */ new Map([
  ["contentsizechanged", "contentsizechanged"],
  ["beforeedit", "beforeedit"],
  ["beforerangeedit", "beforerangeedit"],
  ["afteredit", "afteredit"],
  ["beforeautofill", "beforeautofill"],
  ["beforerange", "beforerange"],
  ["afterfocus", "afterfocus"],
  ["roworderchanged", "roworderchanged"],
  ["beforesorting", "beforesorting"],
  ["beforesourcesortingapply", "beforesourcesortingapply"],
  ["beforesortingapply", "beforesortingapply"],
  ["rowdragstart", "rowdragstart"],
  ["headerclick", "headerclick"],
  ["beforecellfocus", "beforecellfocus"],
  ["beforefocuslost", "beforefocuslost"],
  ["beforesourceset", "beforesourceset"],
  ["beforeanysource", "beforeanysource"],
  ["aftersourceset", "aftersourceset"],
  ["afteranysource", "afteranysource"],
  ["beforecolumnsset", "beforecolumnsset"],
  ["beforecolumnapplied", "beforecolumnapplied"],
  ["aftercolumnsset", "aftercolumnsset"],
  ["beforefilterapply", "beforefilterapply"],
  ["beforefiltertrimmed", "beforefiltertrimmed"],
  ["beforetrimmed", "beforetrimmed"],
  ["aftertrimmed", "aftertrimmed"],
  ["viewportscroll", "viewportscroll"],
  ["beforeexport", "beforeexport"],
  ["beforeeditstart", "beforeeditstart"],
  ["aftercolumnresize", "aftercolumnresize"],
  ["beforerowdefinition", "beforerowdefinition"],
  ["filterconfigchanged", "filterconfigchanged"],
  ["sortingconfigchanged", "sortingconfigchanged"],
  ["rowheaderschanged", "rowheaderschanged"],
  ["beforegridrender", "beforegridrender"],
  ["aftergridrender", "aftergridrender"],
  ["aftergridinit", "aftergridinit"],
  ["additionaldatachanged", "additionaldatachanged"],
  ["afterthemechanged", "afterthemechanged"],
  ["created", "created"],
  ["beforepaste", "beforepaste"],
  ["beforepasteapply", "beforepasteapply"],
  ["pasteregion", "pasteregion"],
  ["afterpasteapply", "afterpasteapply"],
  ["beforecut", "beforecut"],
  ["clearregion", "clearregion"],
  ["beforecopy", "beforecopy"],
  ["beforecopyapply", "beforecopyapply"],
  ["copyregion", "copyregion"],
  ["beforerowrender", "beforerowrender"],
  ["afterrender", "afterrender"],
  ["beforecellrender", "beforecellrender"],
  ["beforedatarender", "beforedatarender"],
  ["dragstartcell", "dragstartcell"],
  ["celleditinit", "celleditinit"],
  ["closeedit", "closeedit"],
  ["filterChange", "filterChange"],
  ["resetChange", "resetChange"],
  ["beforefocusrender", "beforefocusrender"],
  ["beforescrollintoview", "beforescrollintoview"],
  ["afterfocus", "afterfocus"],
  ["beforeheaderclick", "beforeheaderclick"],
  ["headerresize", "headerresize"],
  ["beforeheaderresize", "beforeheaderresize"],
  ["headerdblclick", "headerdblclick"],
  ["beforeheaderrender", "beforeheaderrender"],
  ["beforegroupheaderrender", "beforegroupheaderrender"],
  ["afterheaderrender", "afterheaderrender"],
  ["rowdragstartinit", "rowdragstartinit"],
  ["rowdragendinit", "rowdragendinit"],
  ["rowdragmoveinit", "rowdragmoveinit"],
  ["rowdragmousemove", "rowdragmousemove"],
  ["rowdropinit", "rowdropinit"],
  ["roworderchange", "roworderchange"],
  ["beforecopyregion", "beforecopyregion"],
  ["beforepasteregion", "beforepasteregion"],
  ["celleditapply", "celleditapply"],
  ["beforecellfocusinit", "beforecellfocusinit"],
  ["beforenextvpfocus", "beforenextvpfocus"],
  ["setedit", "setedit"],
  ["beforeapplyrange", "beforeapplyrange"],
  ["beforesetrange", "beforesetrange"],
  ["setrange", "setrange"],
  ["beforeeditrender", "beforeeditrender"],
  ["selectall", "selectall"],
  ["canceledit", "canceledit"],
  ["settemprange", "settemprange"],
  ["beforesettemprange", "beforesettemprange"],
  ["applyfocus", "applyfocus"],
  ["focuscell", "focuscell"],
  ["beforerangedataapply", "beforerangedataapply"],
  ["selectionchangeinit", "selectionchangeinit"],
  ["beforerangecopyapply", "beforerangecopyapply"],
  ["rangeeditapply", "rangeeditapply"],
  ["clipboardrangecopy", "clipboardrangecopy"],
  ["clipboardrangepaste", "clipboardrangepaste"],
  ["beforekeydown", "beforekeydown"],
  ["beforekeyup", "beforekeyup"],
  ["beforecellsave", "beforecellsave"],
  ["celledit", "celledit"],
  ["scrollview", "scrollview"],
  ["ref", "ref"],
  ["scrollvirtual", "scrollvirtual"],
  ["scrollviewport", "scrollviewport"],
  ["resizeviewport", "resizeviewport"],
  ["scrollchange", "scrollchange"],
  ["scrollviewportsilent", "scrollviewportsilent"],
  ["html", "html"]
]);
var AutoAddRowsPlugin = class extends BasePlugin {
  constructor(revogrid, providers) {
    super(revogrid, providers);
    this.addEventListener("beforepasteapply", (evt) => this.handleBeforePasteApply(evt));
  }
  handleBeforePasteApply(event) {
    const start = this.providers.selection.focused;
    const isEditing = this.providers.selection.edit != null;
    if (!start || isEditing) {
      return;
    }
    const rowLength = this.providers.data.stores.rgRow.store.get("items").length;
    const endRow = start.y + event.detail.parsed.length;
    if (rowLength < endRow) {
      const count = endRow - rowLength;
      const newRows = Array.from({ length: count }, (_, i) => ({
        index: rowLength + i,
        data: {}
      }));
      const event2 = this.emit("newRows", { newRows });
      if (event2.defaultPrevented) {
        return;
      }
      const items = [
        ...this.providers.data.stores.rgRow.store.get("source"),
        ...event2.detail.newRows.map((j) => j.data)
      ];
      this.providers.data.setData(items);
    }
  }
};

// node_modules/@revolist/react-datagrid/dist/react-datagrid.js
var import_client = __toESM(require_client());
var import_react = __toESM(require_react());
var import_jsx_runtime = __toESM(require_jsx_runtime());
var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
var dashToPascalCase = (str) => str.toLowerCase().split("-").map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1)).join("");
var camelToDashCase = (str) => str.replace(/([A-Z])/g, (m) => `-${m[0].toLowerCase()}`);
var attachProps = (node, newProps, oldProps = {}) => {
  if (node instanceof Element) {
    const className = getClassName(node.classList, newProps, oldProps);
    if (className !== "") {
      node.className = className;
    }
    Object.keys(newProps).forEach((name) => {
      if (name === "children" || name === "style" || name === "ref" || name === "class" || name === "className" || name === "forwardedRef") {
        return;
      }
      if (name.indexOf("on") === 0 && name[2] === name[2].toUpperCase()) {
        const eventName = name.substring(2);
        const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);
        if (!isCoveredByReact(eventNameLc)) {
          syncEvent(node, eventNameLc, newProps[name]);
        }
      } else {
        node[name] = newProps[name];
        const propType = typeof newProps[name];
        if (propType === "string") {
          node.setAttribute(camelToDashCase(name), newProps[name]);
        }
      }
    });
  }
};
var getClassName = (classList, newProps, oldProps) => {
  const newClassProp = newProps.className || newProps.class;
  const oldClassProp = oldProps.className || oldProps.class;
  const currentClasses = arrayToMap(classList);
  const incomingPropClasses = arrayToMap(newClassProp ? newClassProp.split(" ") : []);
  const oldPropClasses = arrayToMap(oldClassProp ? oldClassProp.split(" ") : []);
  const finalClassNames = [];
  currentClasses.forEach((currentClass) => {
    if (incomingPropClasses.has(currentClass)) {
      finalClassNames.push(currentClass);
      incomingPropClasses.delete(currentClass);
    } else if (!oldPropClasses.has(currentClass)) {
      finalClassNames.push(currentClass);
    }
  });
  incomingPropClasses.forEach((s) => finalClassNames.push(s));
  return finalClassNames.join(" ");
};
var transformReactEventName = (eventNameSuffix) => {
  switch (eventNameSuffix) {
    case "doubleclick":
      return "dblclick";
  }
  return eventNameSuffix;
};
var isCoveredByReact = (eventNameSuffix) => {
  if (typeof document === "undefined") {
    return true;
  } else {
    const eventName = "on" + transformReactEventName(eventNameSuffix);
    let isSupported = eventName in document;
    if (!isSupported) {
      const element = document.createElement("div");
      element.setAttribute(eventName, "return;");
      isSupported = typeof element[eventName] === "function";
    }
    return isSupported;
  }
};
var syncEvent = (node, eventName, newEventHandler) => {
  const eventStore = node.__events || (node.__events = {});
  const oldEventHandler = eventStore[eventName];
  if (oldEventHandler) {
    node.removeEventListener(eventName, oldEventHandler);
  }
  node.addEventListener(
    eventName,
    eventStore[eventName] = function handler(e) {
      if (newEventHandler) {
        newEventHandler.call(this, e);
      }
    }
  );
};
var arrayToMap = (arr) => {
  const map = /* @__PURE__ */ new Map();
  arr.forEach((s) => map.set(s, s));
  return map;
};
var setRef = (ref, value) => {
  if (typeof ref === "function") {
    ref(value);
  } else if (ref != null) {
    ref.current = value;
  }
};
var mergeRefs = (...refs) => {
  return (value) => {
    refs.forEach((ref) => {
      setRef(ref, value);
    });
  };
};
var createForwardRef = (ReactComponent, displayName) => {
  const forwardRef = (props, ref) => {
    return (0, import_jsx_runtime.jsx)(ReactComponent, { ...props, forwardedRef: ref });
  };
  forwardRef.displayName = displayName;
  return import_react.default.forwardRef(forwardRef);
};
var createReactComponent = (tagName, ReactComponentContext, manipulatePropsFunction, defineCustomElement) => {
  if (defineCustomElement !== void 0) {
    defineCustomElement();
  }
  const displayName = dashToPascalCase(tagName);
  const ReactComponent = class extends import_react.default.Component {
    constructor(props) {
      super(props);
      __publicField(this, "componentEl");
      __publicField(this, "setComponentElRef", (element) => {
        this.componentEl = element;
      });
    }
    componentDidMount() {
      this.componentDidUpdate(this.props);
    }
    componentDidUpdate(prevProps) {
      attachProps(this.componentEl, this.props, prevProps);
    }
    render() {
      const { children, forwardedRef, style, className, ref, ...cProps } = this.props;
      let propsToPass = Object.keys(cProps).reduce((acc, name) => {
        const value = cProps[name];
        if (name.indexOf("on") === 0 && name[2] === name[2].toUpperCase()) {
          const eventName = name.substring(2).toLowerCase();
          if (typeof document !== "undefined" && isCoveredByReact(eventName)) {
            acc[name] = value;
          }
        } else {
          const type = typeof value;
          if (type === "string" || type === "boolean" || type === "number") {
            acc[camelToDashCase(name)] = value;
          }
        }
        return acc;
      }, {});
      const newProps = {
        ...propsToPass,
        ref: mergeRefs(forwardedRef, this.setComponentElRef),
        style
      };
      return (0, import_react.createElement)(tagName, newProps, children);
    }
    static get displayName() {
      return displayName;
    }
  };
  return createForwardRef(ReactComponent, displayName);
};
function TemplateConstructor(el, ReactComponent, initialProps, lastEl = null) {
  var _a;
  if (!el) {
    (_a = lastEl == null ? void 0 : lastEl.destroy) == null ? void 0 : _a.call(lastEl);
    return null;
  }
  if (!el._root) {
    el._root = (0, import_client.createRoot)(el);
  }
  const renderComponent = (props) => {
    var _a2;
    const vNode = (0, import_react.createElement)(ReactComponent, props);
    (_a2 = el._root) == null ? void 0 : _a2.render(vNode);
  };
  renderComponent(initialProps);
  const update = (newProps) => {
    renderComponent(newProps);
  };
  const destroy = () => {
    var _a2;
    (_a2 = el._root) == null ? void 0 : _a2.unmount();
    el._root = void 0;
  };
  return { update, destroy };
}
var Template = (ReactComponent, customProps) => {
  return (h2, p, addition) => {
    const props = customProps ? { ...customProps, ...p } : p;
    props.addition = addition;
    let lastEl = null;
    return h2("span", {
      key: `${p.prop}-${p.rowIndex || 0}`,
      ref: (el) => {
        lastEl = TemplateConstructor(el, ReactComponent, props, lastEl);
      }
    });
  };
};
var EditorAdapter = class {
  constructor(EditorComponent, column, save, close) {
    __publicField(this, "element", null);
    __publicField(this, "editCell");
    __publicField(this, "renderedComponent", null);
    this.EditorComponent = EditorComponent;
    this.column = column;
    this.save = save;
    this.close = close;
  }
  // optional, called after editor rendered
  componentDidRender() {
  }
  // optional, called after editor destroyed
  disconnectedCallback() {
    var _a;
    (_a = this.renderedComponent) == null ? void 0 : _a.destroy();
    this.renderedComponent = null;
  }
  render(h2) {
    var _a;
    return h2("span", {
      key: `${this.column.prop}-${((_a = this.editCell) == null ? void 0 : _a.rowIndex) || 0}`,
      ref: (el) => this.renderedComponent = TemplateConstructor(
        el,
        this.EditorComponent,
        {
          ...this.editCell,
          column: this.column,
          save: this.save,
          close: this.close
        },
        this.renderedComponent
      )
    });
  }
};
var Editor = (EditorComponent) => {
  return function(column, save, close) {
    return new EditorAdapter(EditorComponent, column, save, close);
  };
};
var RevoGrid = createReactComponent("revo-grid", void 0, void 0, defineCustomElements);
export {
  AND_OR_BUTTON,
  AndOrButton,
  AutoAddRowsPlugin,
  AutoSizeColumnPlugin,
  BasePlugin,
  CELL_CLASS,
  CELL_HANDLER_CLASS,
  CellRenderer,
  ColumnMovePlugin,
  DATA_COL,
  DATA_ROW,
  DISABLED_CLASS,
  DRAGGABLE_CLASS,
  DRAGG_TEXT,
  DRAG_ICON_CLASS,
  DataStore,
  DimensionStore,
  EDIT_INPUT_WR,
  Editor,
  EditorAdapter,
  ExportCsv,
  ExportFilePlugin,
  FILTER_BUTTON_ACTIVE,
  FILTER_BUTTON_CLASS,
  FILTER_CONFIG_CHANGED_EVENT,
  FILTER_PROP,
  FILTER_TRIMMED_TYPE,
  FILTE_PANEL,
  FOCUS_CLASS,
  FilterButton,
  FilterPlugin,
  GRID_INTERNALS,
  GROUPING_ROW_TYPE,
  GROUP_COLUMN_PROP,
  GROUP_DEPTH,
  GROUP_EXPANDED,
  GROUP_EXPAND_BTN,
  GROUP_EXPAND_EVENT,
  GROUP_ORIGINAL_INDEX,
  GroupingRowPlugin,
  GroupingRowRenderer,
  HEADER_ACTUAL_ROW_CLASS,
  HEADER_CLASS,
  HEADER_ROW_CLASS,
  HEADER_SORTABLE_CLASS,
  MIN_COL_SIZE,
  MOBILE_CLASS,
  PSEUDO_GROUP_COLUMN,
  PSEUDO_GROUP_ITEM,
  PSEUDO_GROUP_ITEM_ID,
  PSEUDO_GROUP_ITEM_VALUE,
  RESIZE_INTERVAL,
  REVOGRID_EVENTS,
  ROW_FOCUSED_CLASS,
  ROW_HEADER_TYPE,
  RevoGrid,
  SELECTION_BORDER_CLASS,
  SelectionStore,
  SortingPlugin,
  SortingSign,
  StretchColumn,
  TMP_SELECTION_BG_CLASS,
  TRASH_BUTTON,
  Template,
  TextEditor,
  TrashButton,
  ViewportStore,
  addMissingItems,
  applyMixins,
  calculateDimensionData,
  calculateRowHeaderSize,
  codesLetter,
  columnTypes,
  cropCellToMax,
  defaultCellCompare,
  defineCustomElements,
  descCellCompare,
  dispatch,
  dispatchByEvent,
  doCollapse,
  doExpand,
  expandEvent,
  expandSvgIconVNode,
  filterCoreFunctionsIndexedByType,
  filterNames,
  filterTypes,
  findPositionInArray,
  gatherGroup,
  gatherGrouping,
  gatherTrimmedItems,
  getCellData,
  getCellDataParsed,
  getCellRaw,
  getColumnByProp,
  getColumnSizes,
  getColumnType,
  getColumns,
  getComparer,
  getExpanded,
  getFirstItem,
  getGroupingName,
  getItemByIndex,
  getItemByPosition,
  getItems,
  getLastItem,
  getLeftRelative,
  getNextOrder,
  getParsedGroup,
  getPhysical,
  getRange,
  getScrollbarSize,
  getSource,
  getSourceItem,
  getSourceItemVirtualIndexByProp,
  getSourcePhysicalIndex,
  getUpdatedItemsByPosition,
  getVisibleSourceItem,
  h,
  isActiveRange,
  isActiveRangeOutsideLastItem,
  isAll,
  isClear,
  isColGrouping,
  isCopy,
  isCtrlKey,
  isCtrlMetaKey,
  isCut,
  isEditInput,
  isEditorCtrConstructible,
  isEnterKeyValue,
  isFilterBtn,
  isGrouping,
  isGroupingColumn,
  isMetaKey,
  isPaste,
  isRangeSingleCell,
  isRowType,
  isSameGroup,
  isStretchPlugin,
  isTab,
  isTabKeyValue,
  keyValues,
  measureEqualDepth,
  mergeSortedArray,
  nextCell,
  proxyPlugin,
  pushSorted,
  range,
  recombineByOffset,
  rowTypes,
  scaleValue,
  setItemSizes,
  setItems,
  setNonce,
  setSourceByPhysicalIndex,
  setSourceByVirtualIndex,
  setStore,
  sortIndexByItems,
  timeout,
  trimmedPlugin,
  updateMissingAndRange
};
/*! Bundled license information:

@revolist/revogrid/dist/esm/app-globals-C3ZHKjnB.js:
  (*!
   * Built by Revolist OU ❤️
   *)

@revolist/revogrid/dist/esm/loader.js:
  (*!
   * Built by Revolist OU ❤️
   *)

@revolist/revogrid/loader/index.js:
  (*!
   * Built by Revolist OU ❤️
   *)

@revolist/revogrid/dist/esm/index.js:
  (*!
   * Built by Revolist OU ❤️
   *)

@revolist/react-datagrid/dist/react-datagrid.js:
  (**
   * Checks if an event is supported in the current execution environment.
   * @license Modernizr 3.0.0pre (Custom Build) | MIT
   *)
*/
//# sourceMappingURL=@revolist_react-datagrid.js.map
