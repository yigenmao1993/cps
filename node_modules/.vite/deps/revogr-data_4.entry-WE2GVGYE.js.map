{
  "version": 3,
  "sources": ["../../@revolist/revogrid/dist/esm/src/components/data/row-highlight.plugin.ts", "../../@revolist/revogrid/dist/esm/src/components/vnode/vnode.utils.ts", "../../@revolist/revogrid/dist/esm/src/components/data/revogr-data-style.scss?tag=revogr-data", "../../@revolist/revogrid/dist/esm/src/components/data/revogr-data.tsx", "../../@revolist/revogrid/dist/esm/node_modules/lodash/_defineProperty.js", "../../@revolist/revogrid/dist/esm/node_modules/lodash/_baseAssignValue.js", "../../@revolist/revogrid/dist/esm/node_modules/lodash/_arrayAggregator.js", "../../@revolist/revogrid/dist/esm/node_modules/lodash/_baseAggregator.js", "../../@revolist/revogrid/dist/esm/node_modules/lodash/_createAggregator.js", "../../@revolist/revogrid/dist/esm/node_modules/lodash/keyBy.js", "../../@revolist/revogrid/dist/esm/src/components/header/header-renderer.tsx", "../../@revolist/revogrid/dist/esm/src/components/header/header-group-renderer.tsx", "../../@revolist/revogrid/dist/esm/src/components/header/revogr-header-style.scss?tag=revogr-header", "../../@revolist/revogrid/dist/esm/src/components/header/revogr-header.tsx", "../../@revolist/revogrid/dist/esm/src/components/revoGrid/viewport.resize.service.ts", "../../@revolist/revogrid/dist/esm/src/components/scroll/revogr-viewport-scroll-style.scss?tag=revogr-viewport-scroll", "../../@revolist/revogrid/dist/esm/src/components/scroll/revogr-viewport-scroll.tsx", "../../@revolist/revogrid/dist/esm/src/components/vnode/vnode-converter.tsx"],
  "sourcesContent": ["import { type VNode } from '@stencil/core';\nimport { ROW_FOCUSED_CLASS } from '../../utils/consts';\nimport { RangeArea } from '@type';\n\n/**\n * Class is responsible for highlighting rows in a table.\n */\nexport class RowHighlightPlugin {\n  private currentRange: RangeArea | null = null;\n  selectionChange(e: RangeArea, renderedRows: Map<number, VNode>) {\n    // clear previous range\n    if (this.currentRange) {\n      renderedRows.forEach((row, y) => {\n        // skip current range\n        if (e && y >= e.y && y <= e.y1) {\n          return;\n        }\n\n        // clear previous range\n        if (\n          row &&\n          row.$elm$ instanceof HTMLElement &&\n          row.$elm$.classList.contains(ROW_FOCUSED_CLASS)\n        ) {\n          row.$elm$.classList.remove(ROW_FOCUSED_CLASS);\n          if (row.$attrs$?.class.includes(ROW_FOCUSED_CLASS)) {\n            row.$attrs$.class = row.$attrs$.class.replace(\n              ROW_FOCUSED_CLASS,\n              '',\n            );\n          }\n        }\n      });\n    }\n\n    // apply new range\n    if (e) {\n      for (let y = e.y; y <= e.y1; y++) {\n        const row = renderedRows.get(y);\n        if (\n          row &&\n          row.$elm$ instanceof HTMLElement &&\n          !row.$elm$.classList.contains(ROW_FOCUSED_CLASS)\n        ) {\n          const attrs = (row.$attrs$ = row.$attrs$ || {});\n          attrs.class = (attrs.class || '') + ' ' + ROW_FOCUSED_CLASS;\n          row.$elm$.classList.add(ROW_FOCUSED_CLASS);\n        }\n      }\n    }\n    this.currentRange = e;\n  }\n\n  isRowFocused(y: number) {\n    return (\n      this.currentRange && y >= this.currentRange.y && y <= this.currentRange.y1\n    );\n  }\n}\n", "import { type VNode } from '@stencil/core';\nimport { type JSX } from '../../components';\n\n/**\n * Converts a VNode element into an HTML element and appends it to the specified parentHolder.\n */\nexport function convertVNodeToHTML(parentHolder: Element, redraw: JSX.VnodeHtml['redraw']): Promise<{ html: string; vnodes: (VNode[]) | null }> {\n  return new Promise<{ html: string; vnodes: (VNode[]) | null }>(resolve => {\n    const vnode = document.createElement('vnode-html');\n    parentHolder.appendChild(vnode);\n    vnode.redraw = redraw;\n    vnode.addEventListener('html', e => {\n      vnode.remove();\n      resolve(e.detail);\n    });\n  });\n}\n", "@use '../../global/_icons.scss' as *;\n\nrevogr-data {\n  display: block;\n  width: 100%;\n  position: relative;\n\n  .rgRow {\n    position: absolute;\n    width: 100%;\n    left: 0;\n\n    &.groupingRow {\n      font-weight: 600;\n      text-align: left;\n\n      .group-expand {\n        width: 25px;\n        height: 100%;\n        max-height: 25px;\n        margin-right: 2px;\n        background-color: transparent;\n        border-color: transparent;\n        vertical-align: middle;\n        padding-left: 5px;\n        display: inline-flex;\n\n        svg {\n          width: 7px;\n        }\n      }\n    }\n  }\n\n  .revo-draggable {\n    $w: 24px;\n\n    border: none;\n    height: 32px;\n    display: inline-flex;\n    outline: 0;\n    padding: 0;\n    font-size: 0.8125rem;\n    box-sizing: border-box;\n    align-items: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    justify-content: center;\n    text-decoration: none;\n    width: $w;\n    height: 100%;\n    cursor: pointer;\n    display: inline-flex;\n\n    &:hover {\n      > .revo-drag-icon {\n        opacity: 1;\n        zoom: 1.2;\n        font-weight: 600;\n      }\n    }\n\n    > .revo-drag-icon {\n      pointer-events: none;\n      transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, zoom 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    }\n  }\n\n  .rgCell {\n    top: 0;\n    left: 0;\n    position: absolute;\n    box-sizing: border-box;\n    height: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    outline: none;\n\n    &.align-center {\n      text-align: center;\n    }\n    &.align-left {\n      text-align: left;\n    }\n    &.align-right {\n      text-align: right;\n    }\n  }\n}\n", "import {\n  type VNode,\n  Component,\n  Host,\n  Watch,\n  Element,\n  Event,\n  Prop,\n  EventEmitter,\n  h,\n  Method,\n  State,\n} from '@stencil/core';\n\nimport ColumnService from './column.service';\nimport { DATA_COL, DATA_ROW, ROW_FOCUSED_CLASS } from '../../utils/consts';\n\nimport { type DSourceState, getSourceItem } from '@store';\nimport RowRenderer, { PADDING_DEPTH } from './row-renderer';\nimport GroupingRowRenderer from '../../plugins/groupingRow/grouping.row.renderer';\nimport { isGrouping } from '../../plugins/groupingRow/grouping.service';\nimport type { AllDimensionType, CellTemplateProp, DimensionCols, DimensionRows } from '@type';\nimport { RowHighlightPlugin } from './row-highlight.plugin';\nimport { convertVNodeToHTML } from '../vnode/vnode.utils';\nimport { CellRenderer } from './cell-renderer';\nimport type {\n  ViewportState,\n  DimensionSettingsState,\n  BeforeRowRenderEvent,\n  Providers,\n  ColumnRegular,\n  DataType,\n  CellProps,\n  BeforeCellRenderEvent,\n  DragStartEvent,\n  VirtualPositionItem,\n  RangeArea,\n  SelectionStoreState,\n} from '@type';\nimport type { Observable } from '../../utils';\nimport type { RowGroupingProps } from '../../plugins';\n\n/**\n * This component is responsible for rendering data\n * Rows, columns, groups and cells\n */\n@Component({\n  tag: 'revogr-data',\n  styleUrl: 'revogr-data-style.scss',\n})\nexport class RevogrData {\n  // #region Properties\n  /**\n   * Readonly mode\n   */\n  @Prop() readonly: boolean;\n  /**\n   * Range allowed\n   */\n  @Prop() range: boolean;\n\n  /**\n   * Defines property from which to read row class\n   */\n  @Prop() rowClass: string;\n  /**\n   * Additional data to pass to renderer\n   * Used in plugins such as vue or react to pass root app entity to cells\n   */\n  @Prop() additionalData: any;\n  /** Stores */\n  /** Selection, range, focus for row selection */\n  @Prop() rowSelectionStore!: Observable<SelectionStoreState>;\n  /** Viewport Y */\n  @Prop() viewportRow!: Observable<ViewportState>;\n  /** Viewport X */\n  @Prop() viewportCol!: Observable<ViewportState>;\n  /** Dimension settings Y */\n  @Prop() dimensionRow!: Observable<DimensionSettingsState>;\n\n  /** Static stores, not expected to change during component lifetime */\n  /**\n   * Column source\n   */\n  @Prop() colData!: Observable<DSourceState<ColumnRegular, DimensionCols>>;\n  /**\n   * Data rows source\n   */\n  @Prop() dataStore!: Observable<DSourceState<DataType, DimensionRows>>;\n  /**\n   * Row data type\n   */\n  @Prop({ reflect: true }) type!: DimensionRows;\n\n  /**\n   * Column data type\n   */\n  @Prop({ reflect: true }) colType!: DimensionCols | 'rowHeaders';\n\n  /**\n   * Prevent rendering until job is done.\n   * Can be used for initial rendering performance improvement.\n   * When several plugins require initial rendering this will prevent double initial rendering.\n   */\n  @Prop() jobsBeforeRender: (Promise<any> | (() => Promise<any>))[] = [];\n  // #endregion\n\n  /**\n   * Before each row render\n   */\n  @Event() beforerowrender: EventEmitter<BeforeRowRenderEvent>;\n  \n  /**\n   * When data render finished for the designated type\n   */\n  @Event() afterrender: EventEmitter<{ type: DimensionRows }>;\n  /**\n   * Before each cell render function. Allows to override cell properties\n   */\n  @Event({ eventName: 'beforecellrender' })\n  beforeCellRender: EventEmitter<BeforeCellRenderEvent<CellTemplateProp>>;\n\n  /**\n   * Before data render\n   */\n  @Event({ eventName: 'beforedatarender' })\n  beforeDataRender: EventEmitter<AllDimensionType>;\n  /**\n   * Event emitted on cell drag start\n   */\n  @Event({ eventName: 'dragstartcell' })\n  dragStartCell: EventEmitter<DragStartEvent>;\n\n  /**\n   * Pointed cell update.\n   */\n  @Method() async updateCell(e: {\n    row: number; // virtual\n    col: number; // virtual\n  }) {\n    // Stencil tweak to update cell content\n    const cell = this.renderedRows.get(e.row)?.$children$?.[e.col];\n    if (cell?.$attrs$?.redraw) {\n      const children = await convertVNodeToHTML(\n        this.element,\n        cell.$attrs$.redraw,\n      );\n      cell.$elm$.innerHTML = children.html;\n      cell.$key$ = Math.random();\n    }\n  }\n\n  @Element() element!: Element;\n  @State() providers: Providers;\n  private columnService: ColumnService;\n  private rowHighlightPlugin: RowHighlightPlugin;\n  /**\n   * Rendered rows - virtual index vs vnode\n   */\n  private renderedRows = new Map<number, VNode>();\n  private rangeUnsubscribe: (() => void) | undefined;\n\n  @Watch('dataStore') onDataStoreChange() {\n    this.onStoreChange();\n  }\n  @Watch('colData') onColDataChange() {\n    this.onStoreChange();\n  }\n  onStoreChange() {\n    this.columnService?.destroy();\n    this.columnService = new ColumnService(this.dataStore, this.colData);\n    // make sure we have correct data, before render\n    this.providers = {\n      type: this.type,\n      colType: this.colType,\n      readonly: this.readonly,\n      data: this.dataStore,\n      columns: this.colData,\n      viewport: this.viewportCol,\n      dimension: this.dimensionRow,\n      selection: this.rowSelectionStore,\n    };\n\n    this.rangeUnsubscribe?.();\n    this.rangeUnsubscribe = this.rowSelectionStore.onChange(\n      'range',\n      (e: RangeArea) =>\n        this.rowHighlightPlugin.selectionChange(e, this.renderedRows),\n    );\n  }\n\n  connectedCallback() {\n    this.rowHighlightPlugin = new RowHighlightPlugin();\n    this.onStoreChange();\n  }\n\n  disconnectedCallback() {\n    this.columnService?.destroy();\n    this.rangeUnsubscribe?.();\n  }\n\n  async componentWillRender() {\n    this.beforeDataRender.emit({\n      rowType: this.type,\n      colType: this.colType as DimensionCols,\n    });\n    return Promise.all(this.jobsBeforeRender.map(p => typeof p === 'function' ? p() : p));\n  }\n\n  componentDidRender() {\n    this.afterrender.emit({ type: this.type });\n  }\n\n  render() {\n    this.renderedRows = new Map();\n    const columnsData = this.columnService.columns;\n    if (!columnsData.length) {\n      return;\n    }\n    const rows = this.viewportRow.get('items');\n    if (!rows.length) {\n      return;\n    }\n    const cols = this.viewportCol.get('items');\n    if (!cols.length) {\n      return;\n    }\n    const rowsEls: VNode[] = [];\n    const depth = this.dataStore.get('groupingDepth');\n    const groupingCustomRenderer = this.dataStore.get('groupingCustomRenderer');\n    const groupDepth = this.columnService.hasGrouping ? depth : 0;\n    for (let rgRow of rows) {\n      const dataItem = getSourceItem(this.dataStore, rgRow.itemIndex);\n\n      // #region Grouping\n      if (isGrouping(dataItem)) {\n        const gmodel: RowGroupingProps = {\n          ...rgRow,\n          index: rgRow.itemIndex,\n          model: dataItem,\n          groupingCustomRenderer,\n          // Only show expand button if grouping is enabled and not in row headers\n          hasExpand: this.columnService.hasGrouping && this.colType !== 'rowHeaders',\n          columnItems: cols,\n          providers: this.providers,\n        };\n        rowsEls.push(<GroupingRowRenderer {...gmodel} />);\n        continue;\n      }\n      // #endregion\n      const cells: (VNode | string | void)[] = [];\n\n      // #region Cells\n      for (let rgCol of cols) {\n        const smodel: CellTemplateProp = {\n          ...this.columnService.rowDataModel(\n            rgRow.itemIndex,\n            rgCol.itemIndex,\n          ),\n          providers: this.providers,\n        };\n\n        // call before cell render\n        const cellEvent = this.triggerBeforeCellRender(smodel, rgRow, rgCol);\n\n        // if event was prevented\n        if (cellEvent.defaultPrevented) {\n          continue;\n        }\n\n        const {\n          detail: { column: columnProps, row: rowProps, model: schemaModel },\n        } = cellEvent;\n\n        const defaultProps: CellProps = {\n          [DATA_COL]: columnProps.itemIndex,\n          [DATA_ROW]: rowProps.itemIndex,\n          style: {\n            width: `${columnProps.size}px`,\n            transform: `translateX(${columnProps.start}px)`,\n            height: rowProps.size ? `${rowProps.size}px` : undefined,\n          },\n        };\n        /**\n         * For grouping, can be removed in the future and replaced with event\n         */\n        if (groupDepth && !columnProps.itemIndex && defaultProps.style) {\n          defaultProps.style.paddingLeft = `${PADDING_DEPTH * groupDepth}px`;\n        }\n\n        const props = this.columnService.mergeProperties(\n          rowProps.itemIndex,\n          columnProps.itemIndex,\n          defaultProps,\n          schemaModel,\n        );\n\n        // Never use webcomponent for cell render\n        // It's very slow because of webcomponent initialization takes time\n        const cellNode = <CellRenderer\n          renderProps={{\n            schemaModel,\n            additionalData: this.additionalData,\n            dragStartCell: this.dragStartCell,\n          }}\n          cellProps={props}\n        />;\n        cells.push(cellNode);\n      }\n      // #endregion\n\n      // #region Rows\n      let rowClass = this.rowClass\n        ? this.columnService.getRowClass(rgRow.itemIndex, this.rowClass)\n        : '';\n      if (this.rowHighlightPlugin.isRowFocused(rgRow.itemIndex)) {\n        rowClass += ` ${ROW_FOCUSED_CLASS}`;\n      }\n      const row: VNode = (\n        <RowRenderer\n          index={rgRow.itemIndex}\n          rowClass={rowClass}\n          size={rgRow.size}\n          start={rgRow.start}\n        >\n          {cells}\n        </RowRenderer>\n      );\n      this.beforerowrender.emit({\n        node: row,\n        item: rgRow,\n        model: dataItem,\n        colType: this.columnService.type,\n        rowType: this.type,\n      });\n      rowsEls.push(row);\n      this.renderedRows.set(rgRow.itemIndex, row);\n      // #endregion\n    }\n    return (\n      <Host>\n        <slot />\n        {rowsEls}\n      </Host>\n    );\n  }\n\n  triggerBeforeCellRender(\n    model: CellTemplateProp,\n    row: VirtualPositionItem,\n    column: VirtualPositionItem,\n  ) {\n    const detail: BeforeCellRenderEvent<CellTemplateProp> = {\n      column,\n      row,\n      model,\n      rowType: model.type,\n      colType: model.colType,\n    };\n    return this.beforeCellRender.emit(detail);\n  }\n}\n", "import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n", "import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n", "/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n", "import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n", "import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nexport default createAggregator;\n", "import baseAssignValue from './_baseAssignValue.js';\nimport createAggregator from './_createAggregator.js';\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nexport default keyBy;\n", "import { h } from '@stencil/core';\nimport type {\n  VirtualPositionItem,\n  ColumnTemplateProp,\n  InitialHeaderClick,\n  RangeArea\n} from '@type';\n\nimport { FilterButton } from '../../plugins/filter/filter.button';\nimport { SortingSign } from '../../plugins/sorting/sorting.sign';\nimport { ResizeEvent, ResizeProps } from './resizable.directive';\nimport {\n  DATA_COL,\n  FOCUS_CLASS,\n  HEADER_CLASS,\n  HEADER_SORTABLE_CLASS,\n  MIN_COL_SIZE,\n} from '../../utils/consts';\nimport { HeaderCellRenderer } from './header-cell-renderer';\nimport { ResizableElementHTMLAttributes } from './resizable.element';\n\nexport type HeaderRenderProps = {\n  column: VirtualPositionItem;\n  additionalData: any;\n  data: ColumnTemplateProp;\n  range?: RangeArea | null;\n  canResize?: boolean;\n  canFilter?: boolean;\n  onResize?(e: ResizeEvent): void;\n  onClick?(data: InitialHeaderClick): void;\n  onDblClick?(data: InitialHeaderClick): void;\n} & Partial<Pick<ResizeProps, 'active'>>;\n\nconst HeaderRenderer = (p: HeaderRenderProps): ReturnType<typeof h> => {\n  const cellClass: { [key: string]: boolean } = {\n    [HEADER_CLASS]: true,\n    [HEADER_SORTABLE_CLASS]: !!p.data?.sortable,\n  };\n  if (p.data?.order) {\n    cellClass[p.data.order] = true;\n  }\n  const dataProps: ResizableElementHTMLAttributes = {\n    [DATA_COL]: p.column.itemIndex,\n    canResize: p.canResize,\n    minWidth: p.data?.minSize || MIN_COL_SIZE,\n    maxWidth: p.data?.maxSize,\n    active: p.active || ['r'],\n    class: cellClass,\n    style: {\n      width: `${p.column.size}px`,\n      transform: `translateX(${p.column.start}px)`,\n    },\n    onResize: p.onResize,\n    onDblClick(originalEvent: MouseEvent) {\n      p.onDblClick?.({\n        column: p.data,\n        index: p.column.itemIndex,\n        originalEvent,\n        providers: p.data.providers,\n      });\n    },\n    onClick(originalEvent: MouseEvent) {\n      if (originalEvent.defaultPrevented || !p.onClick) {\n        return;\n      }\n      p.onClick({\n        column: p.data,\n        index: p.column.itemIndex,\n        originalEvent,\n        providers: p.data.providers,\n      });\n    },\n  };\n  if (p.range) {\n    if (p.column.itemIndex >= p.range.x && p.column.itemIndex <= p.range.x1) {\n      if (typeof dataProps.class === 'object') {\n        dataProps.class[FOCUS_CLASS] = true;\n      }\n    }\n  }\n  return (\n    <HeaderCellRenderer\n      data={p.data}\n      props={dataProps}\n      additionalData={p.additionalData}\n    >\n      {<SortingSign column={p.data} />}\n      {p.canFilter && p.data?.filter !== false ? (\n        <FilterButton column={p.data} />\n      ) : (\n        ''\n      )}\n    </HeaderCellRenderer>\n  );\n};\n\nexport default HeaderRenderer;\n", "import { h } from '@stencil/core';\nimport { Group } from '@store';\nimport type { CellProps, ProvidersColumns } from '@type';\nimport { ResizeEvent, ResizeProps } from './resizable.directive';\nimport { HEADER_CLASS, MIN_COL_SIZE } from '../../utils/consts';\nimport { HeaderCellRenderer } from './header-cell-renderer';\n\nexport type HeaderGroupRendererProps = {\n  start: number;\n  end: number;\n  group: Group;\n  providers: ProvidersColumns;\n  additionalData: any;\n  canResize?: boolean;\n  onResize?(e: ResizeEvent): void;\n} & Partial<Pick<ResizeProps, 'active'>>;\n\nconst HeaderGroupRenderer = (p: HeaderGroupRendererProps): ReturnType<typeof h> => {\n  const groupProps: CellProps & Partial<ResizeProps> = {\n    canResize: p.canResize,\n    minWidth: p.group.indexes.length * MIN_COL_SIZE,\n    maxWidth: 0,\n\n    active: p.active || ['r'],\n    class: {\n      [HEADER_CLASS]: true,\n    },\n    style: {\n      transform: `translateX(${p.start}px)`,\n      width: `${p.end - p.start}px`,\n    },\n    onResize: p.onResize,\n  };\n  return (\n    <HeaderCellRenderer\n      data={{\n        ...p.group,\n        prop: '',\n        providers: p.providers,\n        index: p.start,\n      }}\n      props={groupProps}\n      additionalData={p.additionalData}\n    />\n  );\n};\n\nexport default HeaderGroupRenderer;\n", "revogr-header {\n  position: relative;\n  z-index: 5;\n  display: block;\n\n  .header-rgRow {\n    display: block;\n    position: relative;\n\n    &.group {\n      z-index: 0;\n    }\n  }\n\n  .group-rgRow {\n    position: relative;\n    overflow: hidden;\n  }\n\n  .rgHeaderCell {\n    position: absolute;\n    box-sizing: border-box;\n    height: 100%;\n    z-index: 1;\n    display: flex;\n\n    &.align-center {\n      text-align: center;\n    }\n    &.align-left {\n      text-align: left;\n    }\n    &.align-right {\n      text-align: right;\n    }\n    &.sortable {\n      cursor: pointer;\n    }\n\n    i {\n      &.asc,\n      &.desc {\n        &:after {\n          font-size: 13px;\n        }\n      }\n      &.asc {\n        &:after {\n          content: '↑';\n        }\n      }\n      &.desc {\n        &:after {\n          content: '↓';\n        }\n      }\n    }\n    &.active {\n      z-index: 10;\n\n      .resizable {\n        background-color: deepskyblue;\n      }\n    }\n    .header-content {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      flex-grow: 1;\n    }\n    .resizable {\n      display: block;\n      position: absolute;\n      z-index: 90;\n      touch-action: none;\n      user-select: none;\n      &:hover {\n        background-color: deepskyblue;\n      }\n    }\n    $size: 6px;\n    > .resizable-r {\n      cursor: ew-resize;\n      width: $size;\n      right: 0;\n      top: 0;\n      height: 100%;\n    }\n    > .resizable-rb {\n      cursor: se-resize;\n      width: $size;\n      height: $size;\n      right: 0;\n      bottom: 0;\n    }\n\n    > .resizable-b {\n      cursor: s-resize;\n      height: $size;\n      bottom: 0;\n      width: 100%;\n      left: 0;\n    }\n\n    > .resizable-lb {\n      cursor: sw-resize;\n      width: $size;\n      height: $size;\n      left: 0;\n      bottom: 0;\n    }\n\n    > .resizable-l {\n      cursor: w-resize;\n      width: $size;\n      left: 0;\n      height: 100%;\n      top: 0;\n    }\n\n    > .resizable-lt {\n      cursor: nw-resize;\n      width: $size;\n      height: $size;\n      left: 0;\n      top: 0;\n    }\n\n    > .resizable-t {\n      cursor: n-resize;\n      height: $size;\n      top: 0;\n      width: 100%;\n      left: 0;\n    }\n\n    > .resizable-rt {\n      cursor: ne-resize;\n      width: $size;\n      height: $size;\n      right: 0;\n      top: 0;\n    }\n  }\n  .rv-filter {\n    visibility: hidden;\n  }\n}\n", "import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Prop,\n  type VNode,\n} from '@stencil/core';\nimport keyBy from 'lodash/keyBy';\n\nimport { getItemByIndex, Groups } from '@store';\nimport { HEADER_ACTUAL_ROW_CLASS, HEADER_ROW_CLASS } from '../../utils/consts';\nimport HeaderRenderer, { HeaderRenderProps } from './header-renderer';\nimport { ResizeProps } from './resizable.directive';\nimport type {\n  ColumnRegular,\n  DimensionSettingsState,\n  InitialHeaderClick,\n  ViewportState,\n  ViewSettingSizeProp,\n  DimensionCols,\n  SelectionStoreState,\n  RangeArea,\n  VirtualPositionItem,\n  ProvidersColumns,\n} from '@type';\nimport type { Observable } from '../../utils';\nimport GroupHeaderRenderer, {\n  HeaderGroupRendererProps,\n} from './header-group-renderer';\n\n@Component({\n  tag: 'revogr-header',\n  styleUrl: 'revogr-header-style.scss',\n})\nexport class RevogrHeaderComponent {\n  // #region Properties\n  /**\n   * Stores\n   */\n  /** Viewport X */\n  @Prop() viewportCol: Observable<ViewportState>;\n  /** Dimension settings X */\n  @Prop() dimensionCol: Observable<DimensionSettingsState>;\n  /** Selection, range, focus */\n  @Prop() selectionStore: Observable<SelectionStoreState>;\n\n  /**\n   * Column groups\n   */\n  @Prop() groups: Groups;\n  /**\n   * Grouping depth, how many levels of grouping\n   */\n  @Prop() groupingDepth = 0;\n\n  /**\n   * Readonly mode\n   */\n  @Prop() readonly: boolean;\n  /**\n   * If columns can be resized\n   */\n  @Prop() canResize: boolean;\n  /**\n   * Defines resize position\n   */\n  @Prop() resizeHandler: ResizeProps['active'];\n\n  /**\n   * Columns - defines an array of grid columns.\n   */\n  @Prop() colData: ColumnRegular[];\n\n  /**\n   * Column filter\n   */\n  @Prop() columnFilter: boolean;\n\n  /**\n   * Column type\n   */\n  @Prop() type!: DimensionCols | 'rowHeaders';\n\n  /**\n   * Extra properties to pass into header renderer, such as vue or react components to handle parent\n   */\n  @Prop() additionalData: any = {};\n  // #endregion\n\n  // #region Events\n\n  /**\n   * On initial header click\n   */\n  @Event({\n    eventName: 'beforeheaderclick',\n  })\n  initialHeaderClick: EventEmitter<InitialHeaderClick>;\n\n  /**\n   * On header resize\n   */\n  @Event({\n    eventName: 'headerresize',\n  })\n  headerresize: EventEmitter<ViewSettingSizeProp>;\n\n  /**\n   * On before header resize\n   */\n  @Event({ eventName: 'beforeheaderresize', cancelable: true })\n  beforeResize: EventEmitter<ColumnRegular[]>;\n\n  /**\n   * On header double click\n   */\n  @Event({\n    eventName: 'headerdblclick',\n  })\n  headerdblClick: EventEmitter<InitialHeaderClick>;\n\n  /**\n   * Before each header cell render function. Allows to override cell properties\n   */\n  @Event({ eventName: 'beforeheaderrender' })\n  beforeHeaderRender: EventEmitter<HeaderRenderProps>;\n\n  /**\n   * Before each group header cell render function. Allows to override group header cell properties\n   */\n  @Event({ eventName: 'beforegroupheaderrender' })\n  beforeGroupHeaderRender: EventEmitter<HeaderGroupRendererProps>;\n\n  /**\n   * After all header cells rendered. Finalizes cell rendering.\n   */\n  @Event({ eventName: 'afterheaderrender' })\n  afterHeaderRender: EventEmitter<ProvidersColumns>;\n\n  // #endregion\n\n  @Element() element!: HTMLElement;\n\n  private onResize({ width }: { width?: number }, index: number) {\n    const col = this.colData[index];\n    const event = this.beforeResize.emit([\n      {\n        ...col,\n        size: width || undefined,\n      },\n    ]);\n    if (event.defaultPrevented) {\n      return;\n    }\n    this.headerresize.emit({ [index]: width || 0 });\n  }\n\n  private onResizeGroup(\n    changedX: number,\n    startIndex: number,\n    endIndex: number,\n  ) {\n    const sizes: ViewSettingSizeProp = {};\n    const cols = keyBy(this.viewportCol.get('items'), 'itemIndex');\n    const change = changedX / (endIndex - startIndex + 1);\n    for (let i = startIndex; i <= endIndex; i++) {\n      const item = cols[i];\n      if (item) {\n        sizes[i] = item.size + change;\n      }\n    }\n    this.headerresize.emit(sizes);\n  }\n\n  componentDidRender() {\n    this.afterHeaderRender.emit(this.providers);\n  }\n\n  render() {\n    const cols = this.viewportCol.get('items');\n    const range = this.selectionStore?.get('range');\n\n    const { cells } = this.renderHeaderColumns(cols, range);\n    const groupRow = this.renderGroupingColumns();\n\n    return [\n      <div class=\"group-rgRow\">{groupRow}</div>,\n      <div class={`${HEADER_ROW_CLASS} ${HEADER_ACTUAL_ROW_CLASS}`}>\n        {cells}\n      </div>,\n    ];\n  }\n\n  private renderHeaderColumns(\n    cols: VirtualPositionItem[],\n    range: RangeArea | null,\n  ) {\n    const cells: VNode[] = [];\n    for (let rgCol of cols) {\n      const colData = this.colData[rgCol.itemIndex];\n      const props: HeaderRenderProps = {\n        range,\n        column: rgCol,\n        data: {\n          ...colData,\n          index: rgCol.itemIndex,\n          providers: this.providers,\n        },\n        canFilter: !!this.columnFilter,\n        canResize: this.canResize,\n        active: this.resizeHandler,\n        additionalData: this.additionalData,\n        onResize: e => this.onResize(e, rgCol.itemIndex),\n        onDblClick: e => this.headerdblClick.emit(e),\n        onClick: e => this.initialHeaderClick.emit(e),\n      };\n      const event = this.beforeHeaderRender.emit(props);\n      if (!event.defaultPrevented) {\n        cells.push(<HeaderRenderer {...event.detail} />);\n      }\n    }\n    return { cells };\n  }\n\n  private renderGroupingColumns(): VNode[] {\n    const groupRow: VNode[] = [];\n    for (let i = 0; i < this.groupingDepth; i++) {\n      if (this.groups[i]) {\n        for (let group of this.groups[i]) {\n          const groupStartIndex = group.indexes[0] ?? -1;\n          if (groupStartIndex > -1) {\n            const groupEndIndex = groupStartIndex + group.indexes.length - 1;\n\n            const groupStart = getItemByIndex(\n              this.dimensionCol.state,\n              groupStartIndex,\n            ).start;\n            const groupEnd = getItemByIndex(\n              this.dimensionCol.state,\n              groupEndIndex,\n            ).end;\n\n            const props: HeaderGroupRendererProps = {\n              providers: this.providers,\n              start: groupStart,\n              end: groupEnd,\n              group,\n              active: this.resizeHandler,\n              canResize: this.canResize,\n              additionalData: this.additionalData,\n              onResize: e =>\n                this.onResizeGroup(\n                  e.changedX ?? 0,\n                  groupStartIndex,\n                  groupEndIndex,\n                ),\n            };\n            const event = this.beforeGroupHeaderRender.emit(props);\n            if (!event.defaultPrevented) {\n              groupRow.push(<GroupHeaderRenderer {...event.detail} />);\n            }\n          }\n        }\n      }\n      groupRow.push(<div class={`${HEADER_ROW_CLASS} group`} />);\n    }\n    return groupRow;\n  }\n\n  get providers(): ProvidersColumns<DimensionCols | 'rowHeaders'> {\n    return {\n      type: this.type,\n      readonly: this.readonly,\n      data: this.colData,\n      viewport: this.viewportCol,\n      dimension: this.dimensionCol,\n      selection: this.selectionStore,\n    };\n  }\n}\n", "import throttle from 'lodash/throttle';\ntype ResizeEntry = {\n  width: number;\n  height: number;\n};\nexport default class GridResizeService {\n  private resizeObserver: ResizeObserver | null = null;\n  private previousSize: ResizeEntry = {\n    width: 0,\n    height: 0,\n  };\n  readonly apply = throttle(\n    (e: { width: number, height: number }) => {\n      const entry = {\n        width: e.width,\n        height: e.height,\n      };\n      this.resize?.(entry, this.previousSize);\n      this.previousSize = entry;\n    },\n    40,\n    {\n      leading: false,\n      trailing: true,\n    }\n  );\n  constructor(\n    el: HTMLElement,\n    private readonly resize: (\n      entry: ResizeEntry,\n      previousSize: ResizeEntry,\n    ) => void,\n    elements: (HTMLElement | undefined)[],\n  ) {\n    const extras: HTMLElement[] = [];\n    elements.forEach((element) => {\n      if (element) {\n        extras.push(element);\n      }\n    });\n    this.init(el, extras);\n  }\n\n  init(el: HTMLElement, extras: HTMLElement[] = []) {\n    const observer = this.resizeObserver = new ResizeObserver((e) => {\n      if (e.length) {\n        if (e[0].target === el) {\n          this.apply(e[0].contentRect);\n        } else {\n          this.apply(el.getBoundingClientRect());\n        }\n      }\n    });\n    observer.observe(el);\n    extras.forEach((extra) => {\n      observer.observe(extra);\n    });\n  }\n\n  destroy() {\n    this.resizeObserver?.disconnect();\n    this.resizeObserver = null;\n  }\n}\n", "@mixin noScroll {\n  /* Hide scrollbar for IE and Edge */\n  -ms-overflow-style: none;\n  scrollbar-width: none; /* Firefox */\n  /* Hide scrollbar for Chrome, Safari and Opera */\n  &::-webkit-scrollbar {\n    display: none;\n    -webkit-appearance: none;\n  }\n}\n\n.rowHeaders {\n  z-index: 2;\n  font-size: 10px;\n  display: flex;\n  height: 100%;\n\n  revogr-data .rgCell {\n    text-align: center;\n  }\n\n  .rgCell {\n    padding: 0 1em !important;\n    min-width: 100%;\n  }\n}\n\nrevogr-viewport-scroll {\n  @include noScroll;\n\n  overflow-x: auto;\n  overflow-y: hidden;\n  position: relative;\n  z-index: 1;\n  height: 100%;\n\n  &.colPinStart,\n  &.colPinEnd {\n    z-index: 2;\n  }\n\n  // make sure it would work\n  &.colPinEnd:has(.active) {\n    overflow: visible;\n  }\n\n  &.rgCol {\n    flex-grow: 1;\n  }\n\n  .content-wrapper {\n    overflow: hidden;\n  }\n\n  .inner-content-table {\n    display: flex;\n    flex-direction: column;\n    max-height: 100%;\n    width: 100%;\n    min-width: 100%;\n    position: relative;\n    z-index: 0;\n  }\n\n  .vertical-inner {\n    overflow-y: auto;\n    position: relative;\n    width: 100%;\n    flex-grow: 1;\n    outline: none; // avoid accessibility focus issue\n    @include noScroll;\n\n    revogr-data,\n    revogr-overlay-selection {\n      height: 100%;\n    }\n  }\n}\n", "import {\n  Component,\n  Event,\n  EventEmitter,\n  h,\n  Method,\n  Element,\n  Prop,\n  Host,\n  Listen,\n} from '@stencil/core';\n\nimport GridResizeService from '../revoGrid/viewport.resize.service';\nimport LocalScrollService from '../../services/local.scroll.service';\nimport { LocalScrollTimer } from '../../services/local.scroll.timer';\nimport {\n  CONTENT_SLOT,\n  FOOTER_SLOT,\n  HEADER_SLOT,\n} from '../revoGrid/viewport.helpers';\nimport type {\n  DimensionCols,\n  DimensionType,\n  ElementScroll,\n  ScrollCoordinateEvent,\n  ViewPortResizeEvent,\n  ViewPortScrollEvent,\n} from '@type';\n\ntype Delta = 'deltaX' | 'deltaY';\ntype LocalScrollEvent = {\n  preventDefault(): void;\n} & { [x in Delta]: number };\n\n/**\n * Viewport scroll component for RevoGrid\n * @slot - content\n * @slot header - header\n * @slot footer - footer\n */\n@Component({\n  tag: 'revogr-viewport-scroll',\n  styleUrl: 'revogr-viewport-scroll-style.scss',\n})\nexport class RevogrViewportScroll implements ElementScroll {\n  /**\n   * Enable row header\n   */\n  @Prop() readonly rowHeader: boolean;\n\n  /**\n   * Width of inner content\n   */\n  @Prop() contentWidth = 0;\n  /**\n   * Height of inner content\n   */\n  @Prop() contentHeight = 0;\n\n  @Prop() colType!: DimensionCols | 'rowHeaders';\n\n  /**\n   * Before scroll event\n   */\n  @Event({ eventName: 'scrollviewport', bubbles: true })\n  scrollViewport: EventEmitter<ViewPortScrollEvent>;\n  /**\n   * Viewport resize\n   */\n  @Event({ eventName: 'resizeviewport' })\n  resizeViewport: EventEmitter<ViewPortResizeEvent>;\n\n  /**\n   * Triggered on scroll change, can be used to get information about scroll visibility\n   */\n  @Event() scrollchange: EventEmitter<{\n    type: DimensionType;\n    hasScroll: boolean;\n  }>;\n\n  /**\n   * Silently scroll to coordinate\n   * Made to align negative coordinates for mobile devices\n   */\n  @Event({ eventName: 'scrollviewportsilent' })\n  silentScroll: EventEmitter<ViewPortScrollEvent>;\n\n  @Element() horizontalScroll: HTMLElement;\n\n  private verticalScroll?: HTMLElement;\n  private header?: HTMLElement;\n  private footer?: HTMLElement;\n\n  /**\n   * Static functions to bind wheel change\n   */\n  private horizontalMouseWheel: (e: Partial<LocalScrollEvent>) => void;\n  private verticalMouseWheel: (e: Partial<LocalScrollEvent>) => void;\n\n  private resizeService?: GridResizeService;\n  private localScrollService: LocalScrollService;\n  private localScrollTimer: LocalScrollTimer;\n\n  @Method() async setScroll(e: ViewPortScrollEvent) {\n    this.localScrollTimer.latestScrollUpdate(e.dimension);\n    this.localScrollService?.setScroll(e);\n  }\n\n  /**\n   * update on delta in case we don't know existing position or external change\n   * @param e\n   */\n  @Method() async changeScroll(e: ViewPortScrollEvent, silent = false) {\n    if (silent) {\n      if (e.coordinate && this.verticalScroll) {\n        switch (e.dimension) {\n          // for mobile devices to skip negative scroll loop. only on vertical scroll\n          case 'rgRow':\n            this.verticalScroll.style.transform = `translateY(${-1 * e.coordinate}px)`;\n            break;\n        }\n      }\n      return;\n    }\n    if (e.delta) {\n      switch (e.dimension) {\n        case 'rgCol':\n          e.coordinate = this.horizontalScroll.scrollLeft + e.delta;\n          break;\n        case 'rgRow':\n          e.coordinate = (this.verticalScroll?.scrollTop ?? 0) + e.delta;\n          break;\n      }\n      this.setScroll(e);\n    }\n    return e;\n  }\n\n  /**\n   * Dispatch this event to trigger vertical mouse wheel from plugins\n   */\n  @Listen('mousewheel-vertical') mousewheelVertical({\n    detail: e,\n  }: CustomEvent<LocalScrollEvent>) {\n    this.verticalMouseWheel(e);\n  }\n  /**\n   * Dispatch this event to trigger horizontal mouse wheel from plugins\n   */\n  @Listen('mousewheel-horizontal') mousewheelHorizontal({\n    detail: e,\n  }: CustomEvent<LocalScrollEvent>) {\n    this.horizontalMouseWheel(e);\n  }\n  /**\n   * Allows to use outside listener\n   */\n  @Listen('scroll-coordinate') scrollApply({\n    detail: { type, coordinate },\n  }: CustomEvent<ScrollCoordinateEvent>) {\n    this.applyOnScroll(type, coordinate, true);\n  }\n\n  connectedCallback() {\n    /**\n     * Bind scroll functions for farther usage\n     */\n    // allow mousewheel for all devices including mobile\n    this.verticalMouseWheel = this.onVerticalMouseWheel.bind(\n      this,\n      'rgRow',\n      'deltaY',\n    );\n    this.horizontalMouseWheel = this.onHorizontalMouseWheel.bind(\n      this,\n      'rgCol',\n      'deltaX',\n    );\n    this.localScrollTimer = new LocalScrollTimer(\n      'ontouchstart' in document.documentElement ? 0 : 10,\n    );\n    /**\n     * Create local scroll service\n     */\n    this.localScrollService = new LocalScrollService({\n      // to improve safari smoothnes on scroll\n      // skipAnimationFrame: isSafariDesktop(),\n      runScroll: e => this.scrollViewport.emit(e),\n      applyScroll: e => {\n        this.localScrollTimer.setCoordinate(e);\n        switch (e.dimension) {\n          case 'rgCol':\n            // this will trigger on scroll event\n            this.horizontalScroll.scrollLeft = e.coordinate;\n            break;\n          case 'rgRow':\n            if (this.verticalScroll) {\n              // this will trigger on scroll event\n              this.verticalScroll.scrollTop = e.coordinate;\n              // for mobile devices to skip negative scroll loop. only on vertical scroll\n              if (this.verticalScroll.style.transform) {\n                this.verticalScroll.style.transform = '';\n              }\n            }\n            break;\n        }\n      },\n    });\n  }\n\n  componentDidLoad() {\n    // track viewport resize\n    this.resizeService = new GridResizeService(\n      this.horizontalScroll,\n      (entry) => {\n        const els: Partial<\n          Record<\n            DimensionType,\n            {\n              size: number;\n              contentSize: number;\n              scroll: number;\n              noScroll: boolean;\n            }\n          >\n        > = {};\n\n        let calculatedHeight = entry.height || 0;\n        if (calculatedHeight) {\n          calculatedHeight -=\n            (this.header?.clientHeight ?? 0) +\n            (this.footer?.clientHeight ?? 0);\n        }\n        els.rgRow = {\n          size: calculatedHeight,\n          contentSize: this.contentHeight,\n          scroll: this.verticalScroll?.scrollTop ?? 0,\n          noScroll: false,\n        };\n        const calculatedWidth = entry.width || 0;\n        els.rgCol = {\n          size: calculatedWidth,\n          contentSize: this.contentWidth,\n          scroll: this.horizontalScroll.scrollLeft,\n          noScroll: this.colType !== 'rgCol',\n        };\n        // Process changes in order: width first, then height\n        const dimensions: DimensionType[] = ['rgCol', 'rgRow'];\n        for (const dimension of dimensions) {\n          const item = els[dimension];\n          if (!item) continue;\n          this.resizeViewport.emit({\n            dimension,\n            size: item.size,\n            rowHeader: this.rowHeader,\n          });\n          if (item.noScroll) {\n            continue;\n          }\n          this.localScrollService?.scroll(item.scroll ?? 0, dimension, true);\n          // track scroll visibility on outer element change\n          this.setScrollVisibility(dimension, item.size, item.contentSize);\n        }\n      },\n      [this.footer, this.header],\n    );\n  }\n\n  /**\n   * Check if scroll present or not per type\n   * Trigger this method on inner content size change or on outer element size change\n   * If inner content bigger then outer size then scroll is present and mousewheel binding required\n   * @param type - dimension type 'rgRow/y' or 'rgCol/x'\n   * @param size - outer content size\n   * @param innerContentSize - inner content size\n   */\n  setScrollVisibility(\n    type: DimensionType,\n    size: number,\n    innerContentSize: number,\n  ) {\n    // test if scroll present\n    const hasScroll = size < innerContentSize;\n    let el: HTMLElement | undefined;\n    // event reference for binding\n    switch (type) {\n      case 'rgCol':\n        el = this.horizontalScroll;\n        break;\n      case 'rgRow':\n        el = this.verticalScroll;\n        break;\n    }\n    // based on scroll visibility assign or remove class and event\n    if (hasScroll) {\n      el?.classList.add(`scroll-${type}`);\n    } else {\n      el?.classList.remove(`scroll-${type}`);\n    }\n    this.scrollchange.emit({ type, hasScroll });\n  }\n\n  disconnectedCallback() {\n    this.resizeService?.destroy();\n  }\n\n  async componentDidRender() {\n    this.localScrollService.setParams(\n      {\n        contentSize: this.contentHeight,\n        clientSize: this.verticalScroll?.clientHeight ?? 0,\n        virtualSize: 0,\n      },\n      'rgRow',\n    );\n\n    this.localScrollService.setParams(\n      {\n        contentSize: this.contentWidth,\n        clientSize: this.horizontalScroll.clientWidth,\n        virtualSize: 0,\n      },\n      'rgCol',\n    );\n    this.setScrollVisibility(\n      'rgRow',\n      this.verticalScroll?.clientHeight ?? 0,\n      this.contentHeight,\n    );\n    this.setScrollVisibility(\n      'rgCol',\n      this.horizontalScroll.clientWidth,\n      this.contentWidth,\n    );\n  }\n\n  render() {\n    return (\n      <Host\n        onWheel={this.horizontalMouseWheel}\n        onScroll={(e: UIEvent) => this.applyScroll('rgCol', e)}\n      >\n        <div\n          class=\"inner-content-table\"\n          style={{ width: `${this.contentWidth}px` }}\n        >\n          <div class=\"header-wrapper\" ref={e => (this.header = e)}>\n            <slot name={HEADER_SLOT} />\n          </div>\n          <div\n            class=\"vertical-inner\"\n            ref={el => (this.verticalScroll = el)}\n            onWheel={this.verticalMouseWheel}\n            onScroll={(e: MouseEvent) => this.applyScroll('rgRow', e)}\n          >\n            <div\n              class=\"content-wrapper\"\n              style={{ height: `${this.contentHeight}px` }}\n            >\n              <slot name={CONTENT_SLOT} />\n            </div>\n          </div>\n          <div class=\"footer-wrapper\" ref={e => (this.footer = e)}>\n            <slot name={FOOTER_SLOT} />\n          </div>\n        </div>\n      </Host>\n    );\n  }\n  /**\n   * Extra layer for scroll event monitoring, where MouseWheel event is not passing\n   * We need to trigger scroll event in case there is no mousewheel event\n   */\n  @Method() async applyScroll(type: DimensionType, e: UIEvent) {\n    if (!(e.target instanceof HTMLElement)) {\n      return;\n    }\n    let scroll = 0;\n    switch (type) {\n      case 'rgCol':\n        scroll = e.target.scrollLeft;\n        break;\n      case 'rgRow':\n        scroll = e.target.scrollTop;\n        break;\n    }\n\n    // for mobile devices to skip negative scroll loop\n    if (scroll < 0) {\n      this.silentScroll.emit({ dimension: type, coordinate: scroll });\n      return;\n    }\n    this.applyOnScroll(type, scroll);\n  }\n\n  /**\n   * Applies change on scroll event only if mousewheel event happened some time ago\n   */\n  private applyOnScroll(\n    type: DimensionType,\n    coordinate: number,\n    outside = false,\n  ) {\n    const lastScrollUpdate = () => {\n      this.localScrollService?.scroll(\n        coordinate,\n        type,\n        undefined,\n        undefined,\n        outside,\n      );\n    };\n    // apply after throttling\n    if (this.localScrollTimer.isReady(type, coordinate)) {\n      lastScrollUpdate();\n    } else {\n      this.localScrollTimer.throttleLastScrollUpdate(type, coordinate, () => lastScrollUpdate());\n    }\n  }\n\n  /**\n   * On vertical mousewheel event\n   * @param type\n   * @param delta\n   * @param e\n   */\n  private onVerticalMouseWheel(\n    type: DimensionType,\n    delta: Delta,\n    e: LocalScrollEvent,\n  ) {\n    const scrollTop = this.verticalScroll?.scrollTop ?? 0;\n    const clientHeight = this.verticalScroll?.clientHeight ?? 0;\n    const scrollHeight = this.verticalScroll?.scrollHeight ?? 0;\n\n    // Detect if the user has reached the bottom\n    const atBottom = scrollTop + clientHeight >= scrollHeight && e.deltaY > 0;\n    const atTop = scrollTop === 0 && e.deltaY < 0;\n    if (!atBottom && !atTop) {\n      e.preventDefault?.();\n    }\n    const pos = scrollTop + e[delta];\n    this.localScrollService?.scroll(pos, type, undefined, e[delta]);\n    this.localScrollTimer.latestScrollUpdate(type);\n  }\n\n  /**\n   * On horizontal mousewheel event\n   * @param type\n   * @param delta\n   * @param e\n   */\n  private onHorizontalMouseWheel(\n    type: DimensionType,\n    delta: Delta,\n    e: LocalScrollEvent,\n  ) {\n    if (!e.deltaX) {\n      return;\n    }\n    const { scrollLeft, scrollWidth, clientWidth } = this.horizontalScroll;\n\n    // Detect if the user has reached the right end\n    const atRight = scrollLeft + clientWidth >= scrollWidth && e.deltaX > 0;\n\n    // Detect if the user has reached the left end\n    const atLeft = scrollLeft === 0 && e.deltaX < 0;\n    if (!atRight && !atLeft) {\n      e.preventDefault?.();\n    }\n    const pos = scrollLeft + e[delta];\n    this.localScrollService?.scroll(pos, type, undefined, e[delta]);\n    this.localScrollTimer.latestScrollUpdate(type);\n  }\n}\n", "import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  Host,\n  Prop,\n  type VNode,\n  h,\n} from '@stencil/core';\n\n/**\n * VNode to html converter for stencil components.\n * Transform VNode to html string.\n */\n/**\n * @internal\n */\n@Component({\n  tag: 'vnode-html',\n})\nexport class VNodeToHtml {\n  @Prop() redraw: (() => VNode[]) | null | undefined = null;\n  @Event() html: EventEmitter<{ html: string; vnodes: (VNode[]) | null }>;\n  @Element() el: HTMLElement;\n\n  private vnodes: VNode[] | null = [];\n\n  componentDidRender() {\n    this.html.emit({\n      html: this.el.innerHTML,\n      vnodes: this.vnodes,\n    });\n  }\n\n  render() {\n    this.vnodes = this.redraw?.() ?? null;\n    return (\n      <Host\n        style={{ visibility: 'hidden', position: 'absolute' }}\n      >\n        {this.vnodes}\n      </Host>\n    );\n  }\n}\n"],
  "mappings": "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",
  "names": ["collection", "_a", "GroupHeaderRenderer"]
}
