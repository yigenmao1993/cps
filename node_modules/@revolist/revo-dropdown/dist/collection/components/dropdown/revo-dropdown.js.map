{"version":3,"file":"revo-dropdown.js","sourceRoot":"","sources":["../../../src/components/dropdown/revo-dropdown.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, h, VNode, State, Listen, Event, EventEmitter, Method, Watch, Host } from '@stencil/core';\nimport '../../utils/closestPolifill';\nimport { UUID } from '../../utils/consts';\nimport { getItemLabel, getItemValue } from '../../utils/item.helpers';\nimport { DropdownListFilter } from '../list/revo-list.filter';\nimport { ArrowRenderer } from './arrow';\n\n@Component({\n  tag: 'revo-dropdown',\n  styleUrl: 'revo-dropdown.style.scss',\n})\nexport class RevoDropdown {\n  private element: Element;\n  private dropdown: HTMLElement;\n  private dropdownInner: HTMLElement;\n  private dropdownInput: HTMLInputElement;\n  private autocompleteInput: HTMLInputElement;\n  private revoList: HTMLRevoListElement;\n  private uuid: string = '';\n  private currentSource?: any[];\n  private isClosing = false;\n\n  @State() currentItem: any = null;\n  @State() isVisible = false;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Props\n  //\n  // --------------------------------------------------------------------------\n  /**\n   * Define object mapping for labels\n   */\n  @Prop() dataLabel: string;\n  /**\n   * Selected value\n   */\n  @Prop({ mutable: true }) value: any;\n  /**\n   * Filter value\n   */\n  @Prop({ mutable: true }) currentFilter: any;\n\n  /**\n   * Define object mapping for id/value\n   */\n  @Prop() dataId: string;\n  /**\n   * Should dropdown autoclose on changeValue\n   */\n  @Prop() autoClose: boolean = true;\n\n  /**\n   * Define object mapping for id/value\n   */\n  @Prop() source: any[] = [];\n\n  /**\n   * Placeholder text\n   */\n  @Prop() placeholder: string = 'Select';\n  /**\n   * Where to append element\n   */\n  @Prop() appendTo: 'body' | 'current' | string = 'body';\n  /**\n   * Filter criteria\n   */\n  @Prop() filter: 'contains' | 'start';\n\n  @Prop() maxHeight: number;\n\n  @Prop() hasFilter: boolean = true;\n\n  @Prop() autocomplete: boolean = false;\n  @Prop() autoFocus: boolean = false;\n\n  /**\n   * Define your own vnode template\n   * @example\n   * <revo-dropdown template={(h, item) => h('span', null, item.label)} />\n   */\n  @Prop() template?: (h: Function, item: any) => VNode;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  // --------------------------------------------------------------------------\n  /**\n   * When value changed\n   */\n  @Event({ eventName: 'changed' }) changeValue: EventEmitter<{ val: any; originalEvent?: MouseEvent }>;\n  /**\n   * Before element close, can be prevented\n   */\n  @Event() close: EventEmitter;\n\n  /**\n   * Before element open, can be prevented\n   */\n  @Event() open: EventEmitter;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Methods\n  //\n  // --------------------------------------------------------------------------\n\n  /**\n   * Close dropdown\n   */\n  @Method() async doClose(isDisconnected = false): Promise<void> {\n    if (!isDisconnected) {\n      const event = this.close.emit();\n      if (event.defaultPrevented) {\n        return;\n      }\n    }\n    this.isClosing = true;\n    this.isVisible = false;\n  }\n  /**\n   * Open dropdown\n   */\n  @Method() async doOpen(): Promise<void> {\n    const event = this.open.emit();\n    if (event.defaultPrevented) {\n      return;\n    }\n    this.isVisible = true;\n  }\n\n  /**\n   * Change value\n   */\n  @Method() async doChange(val: any, originalEvent?: MouseEvent): Promise<void> {\n    this.value = getItemValue(val, this.dataId);\n    this.changeValue.emit({ val: this.value, originalEvent });\n    if (this.autocompleteInput) {\n      this.autocompleteInput.value = getItemLabel(this.currentItem, this.dataLabel);\n    }\n    if (this.autoClose && this.isVisible) {\n      this.doClose();\n    }\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Internal\n  //\n  // --------------------------------------------------------------------------\n\n  /** Action finished */\n  @Listen('mousedown', { target: 'document' })\n  onMouseUp(e: MouseEvent): void {\n    if (this.isVisible && !e.defaultPrevented) {\n      const isOutside = !(e.target as HTMLElement | null)?.closest(`[${UUID}=\"${this.uuid}\"]`);\n      if (isOutside) {\n        this.doClose();\n      }\n    }\n  }\n\n  @Listen('keydown', { target: 'document' }) onKey(e: KeyboardEvent) {\n    switch (e.code) {\n      case 'Escape':\n        e.preventDefault();\n        this.doClose();\n        break;\n    }\n  }\n\n  @Watch('value') onValueChanged(newVal: any) {\n    this.currentItem = this.getValue(newVal);\n  }\n\n  componentWillLoad() {\n    if (this.value) {\n      this.currentItem = this.value;\n    }\n  }\n\n  connectedCallback() {\n    this.uuid = `${this.uuidv4(new Date().getTime())}-rvdropdown`;\n    if (typeof this.value !== 'undefined') {\n      this.onValueChanged(this.value);\n    }\n  }\n\n  disconnectedCallback() {\n    this.doClose(true);\n  }\n\n  componentDidRender() {\n    if (this.dropdown) {\n      if (this.appendTo === 'body') {\n        document.body.appendChild(this.dropdown);\n      } else if (this.appendTo !== 'current' && typeof this.appendTo === 'string') {\n        const el: HTMLElement = document.querySelector(this.appendTo);\n        if (el instanceof HTMLElement) {\n          el.appendChild(this.dropdown);\n        }\n      }\n    }\n    if (this.isVisible) {\n      this.updateStyles();\n    }\n    if (this.dropdownInput) {\n      this.dropdownInput.focus();\n    }\n    if (this.autoFocus) {\n      if (this.autocomplete) {\n        setTimeout(() => this.autocompleteInput?.focus(), 0);\n      }\n    }\n  }\n\n  private renderDropdown() {\n    return (\n      <div class=\"revo-dropdown-list\" ref={e => (this.dropdown = e)}>\n        <div {...{ [UUID]: this.uuid }} class=\"dropdown-inner\" ref={e => (this.dropdownInner = e)}>\n          {this.hasFilter && !this.autocomplete ? (\n            <DropdownListFilter\n              ref={e => (this.dropdownInput = e)}\n              source={this.source}\n              filter={this.filter}\n              dataLabel={this.dataLabel}\n              value={this.currentFilter || ''}\n              filterValue={this.currentFilter || ''}\n              onFilterChange={e => {\n                this.currentFilter = e.value;\n                this.currentSource = e.items;\n                this.revoList?.refresh(this.currentSource);\n              }}\n            />\n          ) : undefined}\n          <revo-list\n            ref={e => (this.revoList = e)}\n            isFocused={true}\n            selectedIndex={this.getValueIndex(this.value)}\n            sourceItems={this.currentSource}\n            onChanged={e => this.doChange(e.detail.item, e.detail.e)}\n            template={item => (this.template ? this.template(h, item) : getItemLabel(item, this.dataLabel))}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  renderSelect() {\n    const val = (this.currentItem && getItemLabel(this.currentItem, this.dataLabel)) || '';\n    return <input type=\"text\" disabled class=\"filter-box\" value={val} />;\n  }\n\n  renderAutocomplete() {\n    const val = this.currentItem ? getItemLabel(this.currentItem, this.dataLabel) : '';\n    return (\n      <DropdownListFilter\n        ref={e => (this.autocompleteInput = e)}\n        autocomplete=\"true\"\n        source={this.source}\n        filter={this.filter}\n        dataLabel={this.dataLabel}\n        value={val}\n        filterValue={this.currentFilter}\n        onKeyDown={e => {\n          if (this.isVisible) {\n            return;\n          }\n          switch (e.code) {\n            case 'ArrowUp':\n            case 'ArrowDown':\n              e.preventDefault();\n              this.showAutoComplete();\n              break;\n          }\n        }}\n        onInput={() => this.showAutoComplete()}\n        onFocus={() => this.showAutoComplete()}\n        onClick={() => this.showAutoComplete()}\n        onFilterChange={e => {\n          this.currentFilter = e.value;\n          this.currentSource = e.items;\n          this.revoList?.refresh(this.currentSource);\n        }}\n      />\n    );\n  }\n\n  render() {\n    let list: VNode;\n    if (this.isVisible) {\n      list = this.renderDropdown();\n    }\n    const props = {\n      [UUID]: this.uuid,\n      class: {\n        active: this.isVisible,\n        shrink: this.isVisible || !!this.currentItem || !!this.autocompleteInput?.value,\n      },\n      ref: e => (this.element = e),\n      onClick: e => this.selectClick(e),\n    };\n    if (this.autocomplete) {\n      props['autocomplete'] = true;\n    }\n    return (\n      <Host {...props}>\n        <label>{this.placeholder}</label>\n        <div class=\"rv-dr-root\">\n          {this.autocomplete ? this.renderAutocomplete() : this.renderSelect()}\n          <span class=\"actions\">\n            <ArrowRenderer />\n          </span>\n          <fieldset>\n            <legend>\n              <span>{this.placeholder}</span>\n            </legend>\n          </fieldset>\n        </div>\n        {list}\n      </Host>\n    );\n  }\n\n  private showAutoComplete() {\n    if (!this.isVisible && !this.isClosing) {\n      this.isVisible = true;\n    }\n    this.isClosing = false;\n  }\n\n  private getValueIndex(newVal: any) {\n    let i = 0;\n    for (let index in this.source) {\n      const item = this.source[index];\n      if (newVal == getItemValue(item, this.dataId)) {\n        return i;\n      }\n      i++;\n    }\n    return -1;\n  }\n\n  private getValue(newVal: any) {\n    for (let index in this.source) {\n      const item = this.source[index];\n      if (newVal == getItemValue(item, this.dataId)) {\n        return item;\n      }\n    }\n    return null;\n  }\n\n  private selectClick(e: Event) {\n    if (e.defaultPrevented) {\n      return;\n    }\n    if (this.isVisible) {\n      this.doClose();\n    } else {\n      this.doOpen();\n    }\n  }\n\n  private updateStyles() {\n    if (!this.dropdown) {\n      return;\n    }\n    const { top, left, height } = this.element.getBoundingClientRect();\n    const visibleRect = this.clientRectangle();\n    let currentTop = top + height + visibleRect.top;\n\n    const style: {\n      top?: string;\n      maxHeight?: number;\n      maxWidth?: string;\n      left?: string;\n      opacity?: number;\n      display: string;\n    } = {\n      opacity: 1,\n      display: 'block',\n    };\n\n    // top\n    if (currentTop > visibleRect.centerY) {\n      style.top = `${currentTop - height}px`;\n      style.maxHeight = currentTop - height - visibleRect.top - 50;\n      this.dropdown.classList.add('top');\n\n      // bottom\n    } else {\n      style.top = `${currentTop}px`;\n      style.maxHeight = visibleRect.bottom - currentTop - 50;\n      this.dropdown.classList.remove('top');\n    }\n\n    // left\n    let currentLeft = left + visibleRect.left;\n    const rightSpace = visibleRect.right - (currentLeft + this.dropdown.clientWidth);\n    if (rightSpace < 0) {\n      currentLeft += rightSpace;\n    }\n    style.left = `${currentLeft}px`;\n    this.dropdownInner.style.maxHeight = `${Math.min(style.maxHeight, this.maxHeight || style.maxHeight)}px`;\n    this.dropdownInner.style.maxWidth = style.maxWidth;\n\n    for (let s in style) {\n      this.dropdown.style[s] = style[s];\n    }\n  }\n\n  private clientRectangle() {\n    const rect = {\n      top: window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop,\n      bottom: 0,\n      centerY: 0,\n      height: document.body.clientHeight,\n      left: window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,\n      right: 0,\n      width: document.body.clientWidth,\n      centerX: 0,\n    };\n    rect.bottom = rect.top + rect.height;\n    rect.right = rect.left + rect.width;\n    rect.centerY = rect.top + rect.height / 2;\n    rect.centerX = rect.left + rect.width / 2;\n    return rect;\n  }\n\n  private uuidv4(stamp: number) {\n    return `${stamp}-xx-y`.replace(/[xy]/g, c => {\n      var r = (Math.random() * 16) | 0,\n        v = c == 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  }\n}\n"]}